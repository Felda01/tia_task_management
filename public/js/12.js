(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{34:function(t,s,a){"use strict";a.r(s);var e={name:"TaskList",computed:{filteredTasks:function(){var t=this;if(this.tasks&&this.tasks.length>0)switch(this.taskSort){case"normal-desc":return _.orderBy(this.tasks,["id"],["desc"]);case"end-date-asc":return _.orderBy(this.tasks,["end_date"],["asc"]);case"end-date-desc":return _.orderBy(this.tasks,["end_date"],["desc"]);case"priority-asc":return _.sortBy(this.tasks,(function(s){return t.prioritySort(s.priority,!1)}));case"priority-desc":return _.sortBy(this.tasks,(function(s){return t.prioritySort(s.priority,!0)}));default:return this.tasks}return[]}},data:function(){return{loading:!1,tasks:[],errorCode:0,taskSort:"normal-asc",taskSortOptions:[{value:"normal-asc",text:this.$t("task.filter.normal.asc")},{value:"normal-desc",text:this.$t("task.filter.normal.desc")},{value:"end-date-asc",text:this.$t("task.filter.endDate.asc")},{value:"end-date-desc",text:this.$t("task.filter.endDate.desc")},{value:"priority-asc",text:this.$t("task.filter.priority.asc")},{value:"priority-desc",text:this.$t("task.filter.priority.desc")}]}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.loading=!0,this.axios.get("/api/tasks").then((function(s){t.tasks=s.data.data,console.log(t.tasks),t.loading=!1})).catch((function(s){t.errorCode=s.response.status,t.loading=!1}))},prioritySort:function(t,s){switch(t){case"none":return s?5:1;case"low":return s?4:2;case"normal":return 3;case"high":return s?2:4;case"immediate":return s?1:5}}}},r=a(1),i=Object(r.a)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"task-list"},[a("div",{staticClass:"row"},[t.loading?[a("div",{staticClass:"col-12"},[a("content-placeholders",{staticClass:"mb-4"},[a("content-placeholders-heading")],1)],1),t._v(" "),t._l(12,(function(s){return a("div",{staticClass:"col-lg-4 col-12"},[a("content-placeholders",{staticClass:"mb-4"},[a("content-placeholders-heading"),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}})],1)],1)}))]:t.tasks?[a("div",{staticClass:"col-12 mb-4"},[a("h1",[t._v(t._s(t.$t("task.my_open_tasks")))])]),t._v(" "),a("div",{staticClass:"col-12 mb-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"mb-0"},[t._v(t._s(t.$t("project.show.tasks")))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"task-sort"}},[t._v(t._s(t.$t("task.sort")))]),t._v(" "),a("b-form-select",{staticClass:"form-control",attrs:{id:"task-sort",options:t.taskSortOptions},model:{value:t.taskSort,callback:function(s){t.taskSort=s},expression:"taskSort"}})],1)])])]),t._v(" "),t.tasks.length>0?t._l(t.tasks,(function(s){return a("div",{staticClass:"col-lg-4 col-12 mb-4"},[a("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"tasks.show",params:{id:s.id}}}},[a("div",{staticClass:"card h-100"},[a("div",{staticClass:"card-header"},[a("h5",{staticClass:"mb-0"},[t._v(t._s(s.title))])]),t._v(" "),a("div",{staticClass:"card-body d-flex justify-content-between"},[a("div",{staticClass:"d-flex"},[a("div",[a("p",{staticClass:"mb-0"},[t._v(t._s(t._f("date")(new Date(s.start_date),"DD.MM.YYYY")))]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(t._s(t._f("date")(new Date(s.end_date),"DD.MM.YYYY")))])])]),t._v(" "),a("div",[a("p",{staticClass:"mb-0"},[t._v(t._s(t._f("capitalize")(s.status)))]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(t._s(t._f("capitalize")(s.priority)))])])])])])],1)})):[a("div",{staticClass:"col-12"},[a("p",[t._v(t._s(t.$t("task.no_open_tasks")))])])]]:403===t.errorCode?[a("div",{staticClass:"col-12"},[a("error-forbidden")],1)]:404===t.errorCode?[a("div",{staticClass:"col-12"},[a("error-not-found")],1)]:t._e()],2)])}),[],!1,null,null,null);s.default=i.exports}}]);