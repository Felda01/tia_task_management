(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{38:function(e,t,s){"use strict";s.r(t);var a=s(2);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n={name:"UserList",computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(a.b)(["role"])),data:function(){return{loading:!1,users:[],errorCode:0,modalSchemaAddUser:{form:{url:"/api/users",method:"post",fields:[],hiddenFields:[],config:{}},modalRef:"addUser",modalTitle:this.$t("user.add.title"),okBtnTitle:this.$t("modal.register.btn")}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.loading=!0,this.axios.get("/api/users").then((function(t){e.users=t.data.data,e.usersTypeOptions=t.data.meta.usersTypeOptions,e.loading=!1})).catch((function(t){e.errorCode=t.response.status,e.loading=!1}))},addUserModal:function(){this.modalSchemaAddUser.form.fields=[{label:this.$t("user.email"),required:!0,name:"email",input:"text",type:"email",value:"",config:{}},{label:this.$t("user.first_name"),required:!0,name:"first_name",input:"text",type:"text",value:"",config:{}},{label:this.$t("user.last_name"),required:!0,name:"last_name",input:"text",type:"text",value:"",config:{}},{label:this.$t("user.type"),required:!0,name:"type",input:"select",type:"select",value:"",config:{options:this.usersTypeOptions,disabledOption:!0}}],this.$refs.addUserModal.openModal()},addUser:function(e){this.users.push(e.data.data)}}},o=s(1),l=Object(o.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-list"},[s("div",{staticClass:"row"},[e.loading?[s("div",{staticClass:"col-12"},[s("content-placeholders",{staticClass:"mb-4"},[s("content-placeholders-heading")],1)],1),e._v(" "),e._l(12,(function(t){return s("div",{staticClass:"col-lg-4 col-md-6 col-12"},[s("content-placeholders",{staticClass:"mb-4"},[s("content-placeholders-heading"),e._v(" "),s("content-placeholders-text",{attrs:{lines:3}})],1)],1)}))]:e.users?[s("div",{staticClass:"col-12 mb-4 d-flex justify-content-between"},[s("h1",[e._v(e._s(e.$t("user_list.users")))]),e._v(" "),"senior"===e.role?s("button",{staticClass:"btn btn-outline-primary",on:{click:e.addUserModal}},[e._v(e._s(e.$t("user_list.add.user.btn")))]):e._e()]),e._v(" "),e.users.length>0?e._l(e.users,(function(t){return s("div",{staticClass:"col-lg-4 col-md-6 col-12 mb-4"},[s("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"users.show",params:{id:t.id}}}},[s("div",{staticClass:"card h-100"},[s("div",{staticClass:"card-header"},[s("h5",{staticClass:"mb-0"},[s("img",{staticClass:"avatar avatar-sm mr-2",attrs:{src:t.photo,alt:t.fullName}}),e._v(e._s(t.fullName))])]),e._v(" "),s("div",{staticClass:"card-body"},[e._v("\n                                "+e._s(e._f("capitalize")(t.type))+"\n                            ")])])])],1)})):e._e(),e._v(" "),s("custom-modal",{ref:"addUserModal",attrs:{modalSchema:e.modalSchemaAddUser},on:{ok:e.addUser}})]:403===e.errorCode?[s("div",{staticClass:"col-12"},[s("error-forbidden")],1)]:404===e.errorCode?[s("div",{staticClass:"col-12"},[s("error-not-found")],1)]:e._e()],2)])}),[],!1,null,null,null);t.default=l.exports}}]);