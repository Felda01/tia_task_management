(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{39:function(t,s,e){"use strict";e.r(s);var a=e(29),n={name:"Gannt",data:function(){return{gantt:null,loading:!1,errorCode:0,project:null}},mounted:function(){var t=this;this.fetchData().then((function(){var s=t.transformTasks(t.project.tasks);s.length>0&&(t.gantt=new a.a(t.$refs.gantt,s,{custom_popup_html:function(t){return""},is_draggable:!1}))}))},methods:{fetchData:function(){var t=this;return this.loading=!0,this.axios.get("/api/projects/"+this.$route.params.slug+"/gantt").then((function(s){t.project=s.data.data,t.loading=!1})).catch((function(s){console.log(s),t.errorCode=s.response.status,t.loading=!1}))},transformTasks:function(t){for(var s=[],e=0;e<t.length;e++){var a=t[e];s.push({id:a.id.toString(),name:a.title,start:a.start_date,end:a.end_date,progress:100,dependencies:_.join(_.map(a.dependencies,"id"),", ")})}return s}}},o=e(1),r=Object(o.a)(n,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"project-gantt"},[e("div",{staticClass:"row"},[t.loading?[e("div",{staticClass:"col-12"},[e("content-placeholders",{staticClass:"mb-4"},[e("content-placeholders-heading"),t._v(" "),e("content-placeholders-text",{attrs:{lines:20}})],1)],1)]:403===t.errorCode?[e("div",{staticClass:"col-12"},[e("error-forbidden")],1)]:404===t.errorCode?[e("div",{staticClass:"col-12"},[e("error-not-found")],1)]:[t.project?e("div",{staticClass:"col-12 mb-4"},[e("router-link",{staticClass:"btn btn-outline-primary btn-sm",attrs:{to:{name:"projects.show",params:{slug:t.project.slug}}}},[t._v(t._s(t.$t("project.overview.back_to_project")))])],1):t._e(),t._v(" "),e("div",{staticClass:"col-12 mb-4"},[e("h2",[t._v(t._s(t.$t("project.show.gantt")))])]),t._v(" "),e("div",{staticClass:"col-12"},[e("svg",{ref:"gantt",attrs:{id:"gantt"}}),t._v(" "),t.project&&t.project.tasks&&0===t.project.tasks.length?e("p",[t._v(t._s(t.$t("project.gantt.no_tasks")))]):t._e()])]],2)])}),[],!1,null,null,null);s.default=r.exports}}]);